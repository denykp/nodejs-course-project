<%- include('../includes/head.ejs') %>
<script type="text/javascript">
  // use DOMContentLoaded or put the script on the bottom of body tag
  document.addEventListener("DOMContentLoaded", function() {
    let count = 0;

    function counter() {
      count++;
      document.getElementById("display-count").innerHTML = count;
    }

    let buttonCount = document
      .getElementById("button-count")
      .addEventListener("click", counter);
  });
</script>
</head>

<body>
  <%- include('../includes/nav.ejs') %>
  <main>
    <h1>My Products</h1>
    <% if(products.length) { %>
    <div style="display: flex;flex-wrap: wrap;gap: 30px;">
      <% for (const product of products) { %>
      <a href="/product/<%= product.id %>" class="product-card">
        <div class="preview">
          <img src="https://img.freepik.com/free-photo/book-library-with-open-textbook_1150-5921.jpg" alt="<%= product.title %>" width="100%">
        </div>
        <div class="text">
          <div class="title"><%= product.title %></div>
          <div class="price"><%= product.price %></div>
          <!-- <div>
            <%= product.author %>, <%= product.year %>
          </div> -->
        </div>
      </a>
      <% } %>
    </div>
    <% } else { %>
    <span>Currently there is no product to display</span>
    <% } %>
    <div style="margin-top: 50px;">
      <button id="button-count" type="button">
        Counter <span id="display-count">0</span>
      </button>
    </div>
  </main>
</body>

</html>